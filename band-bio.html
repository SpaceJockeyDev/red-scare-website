<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link
    rel="stylesheet"
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
  />
  <link rel="stylesheet" type="text/css" href="styles.css" />
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
  />
  <link rel="icon" href="assets/fist.ico" />
  <style>
    .content-container {
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: calc(
        100vh - 60px
      ); /* Adjust based on the height of your navbar and footer */
      margin: 0;
    }
    #band-name {
      font-size: 3em;
      color: #333;
      font-family: "Viva";
      text-align: center;
    }
    #band-picture {
      width: 600px;
      height: auto;
      display: block; /* Center the band picture */
      margin-left: auto;
      margin-right: auto;
    }
    #band-bio {
      font-size: 1.2em;
      color: #0f0101;
      font-family: "Alte";
    }
    .band-releases {
      display: flex;
      flex-wrap: wrap;
    }
    .release {
      flex-basis: calc(20% - 15px); /* 5 albums in a row */
      margin-bottom: 20px;
      text-align: center;
      margin-right: 15px;
    }
    .release img {
      width: 250px;
      height: auto;
    }
    .release-name {
      /* Add your styles here */
      font-size: 16px;
      color: #333;
      margin-top: 10px;
      font-family: "Helv";
    }
    body {
      background-image: url("assets/bgright.png"), url("assets/bgleft.png");
      background-repeat: repeat-y, repeat-y;
      background-position: right, left;
      background-size: 10%, 10%;
    }
    @media (max-width: 600px) {
      #band-picture {
        width: 400px;
        max-width: 100%;
        display: block;
        margin: auto;
      }
      #band-name {
        text-align: center;
      }
      body {
        background-size: 20%, 10%; /* Adjust as needed */
        background-repeat: repeat-y, repeat-y;
      }
      .release img {
        width: 200px;
        height: auto;
      }
      .band-releases {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }
    }
    #band-releases .release a:hover {
      text-decoration: none;
    }
    #band-hometown {
      font-family: "Helv"; /* Replace with your desired font */
      text-align: center;
    }
    #band-socials {
      text-align: center; /* Center the band socials */
    }
    .underline {
  border-bottom: 5px solid red;
} 
  </style>
</head>
<body>
  <div id="navbar-container"></div>
  <div id="content-container">
    <h1 id="band-name"></h1>
    <img id="band-picture" />
    <p id="band-hometown"></p>
    <p id="band-socials"></p>
    <div class="band-info">
      <p id="band-bio"></p>
      <h2 style="font-family: 'Viva'">Releases</h2>
      <div id="band-releases" class="band-releases"></div>
    </div>
  </div>
  <div id="footer"></div>
</body>
<script>
  const urlParams = new URLSearchParams(window.location.search);
  const bandName = decodeURIComponent(urlParams.get("band")).replace(/-/g, " ");

  fetch("bands.json")
    .then((response) => response.json())
    .then((bands) => {
      const band = bands.find((band) => band.bandName === bandName);

      fetch("releases.json")
        .then((response) => response.json())
        .then((releases) => {
          // Filter the releases that include the band's name
          band.releases = releases.filter((release) =>
            release.bandName.includes(band.bandName)
          );

          // Sort the releases by release number
          band.releases.sort((a, b) => b.releaseNumber - a.releaseNumber);

          document.getElementById("band-name").innerHTML = `<span class="underline">${band.bandName}</span>`;;
          document.getElementById("band-picture").src = band.picture;
          document.getElementById("band-hometown").textContent =
            "Hometown: " + band.hometown;
          document.getElementById("band-bio").textContent = band.bio;
          document.getElementById("band-socials").innerHTML = `
            ${
              band.socials.facebook
                ? `<a href="${band.socials.facebook}" target="_blank"><i class="fab fa-facebook-f"></i></a>`
                : ""
            }
            ${
              band.socials.twitter
                ? `<a href="${band.socials.twitter}" target="_blank"><i class="fab fa-twitter"></i></a>`
                : ""
            }
            ${
              band.socials.instagram
                ? `<a href="${band.socials.instagram}" target="_blank"><i class="fab fa-instagram"></i></a>`
                : ""
            }
            ${
              band.socials.bandcamp
                ? `<a href="${band.socials.bandcamp}" target="_blank"><i class="fab fa-bandcamp"></i></a>`
                : ""
            }`;

          document.title = "Red Scare | " + band.bandName;

          band.releases.forEach((release) => {
            const releaseElement = document.createElement("div");
            releaseElement.className = "release";
            const albumLink = encodeURIComponent(
              release.album.replace(/ /g, "-")
            );
            releaseElement.innerHTML = `
            <a href="release-info.html?album=${albumLink}">
                <img src="${release.coverArt}" alt="${release.album} Cover Art">
                            <p class="release-name">${release.album}</p>
                        </a>
                    `;
            document
              .getElementById("band-releases")
              .appendChild(releaseElement);
          });
        })
        .catch((error) => console.error("Error:", error));
    })
    .catch((error) => console.error("Error:", error));
</script>

<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<script>
  $(function () {
    $("#navbar-container").load("navigation.html");
  });
</script>
<script>
  $(function () {
    $("#footer").load("footer.html");
  });
</script>
